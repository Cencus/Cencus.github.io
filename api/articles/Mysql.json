{"title":"Mysql","uid":"7f77c660cadf02b64dd36120e903f5f0","slug":"Mysql","date":"2022-03-28T08:20:28.000Z","updated":"2022-03-30T02:55:14.235Z","comments":true,"path":"api/articles/Mysql.json","keywords":null,"cover":[],"content":"<h1 id=\"MySQL数据库基本操作\"><a href=\"#MySQL数据库基本操作\" class=\"headerlink\" title=\"MySQL数据库基本操作\"></a>MySQL数据库基本操作</h1><h2 id=\"DDL（不涉及数据）\"><a href=\"#DDL（不涉及数据）\" class=\"headerlink\" title=\"DDL（不涉及数据）\"></a>DDL（不涉及数据）</h2><h3 id=\"数据库操作\"><a href=\"#数据库操作\" class=\"headerlink\" title=\"数据库操作\"></a>数据库操作</h3><p>注意SQL不区分大小写</p>\n<ul>\n<li>读数据库的常用操作</li>\n</ul>\n<p>查看所有数据库<br><code>show databases;</code></p>\n<p>创建数据库<br><code>create database;</code></p>\n<p>切换（选择要操作的）数据库<br><code>use mydb1;</code></p>\n<p>删除数据库<br><code>drop database;</code></p>\n<p>修改数据库编码<br><code>alter database mydb1 character set utf8;</code></p>\n<h3 id=\"表创建\"><a href=\"#表创建\" class=\"headerlink\" title=\"表创建\"></a>表创建</h3><p>创建表格式<br>创建表是构建一张空表，指定这个表的名字，这个表有几列，每一列叫什么名字，以及每一列存储的数据类型</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">if</span> <span class=\"token operator\">not</span> <span class=\"token keyword\">exists</span><span class=\"token punctuation\">]</span> 表名<span class=\"token punctuation\">(</span>\n\t字段名<span class=\"token number\">1</span> 类型<span class=\"token punctuation\">[</span>宽度<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>约束条件<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">comment</span> <span class=\"token string\">'字段说明'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t字段名<span class=\"token number\">2</span> 类型<span class=\"token punctuation\">[</span>宽度<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>约束条件<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">comment</span> <span class=\"token string\">'字段说明'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n\t字段名<span class=\"token number\">3</span> 类型<span class=\"token punctuation\">[</span>宽度<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span>约束条件<span class=\"token punctuation\">]</span> <span class=\"token punctuation\">[</span><span class=\"token keyword\">comment</span> <span class=\"token string\">'字段说明'</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">[</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p>例如</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">use</span> mydb1<span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> student<span class=\"token punctuation\">(</span>\n\tsid <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n\tname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n\tage <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\n\tbirth <span class=\"token keyword\">date</span><span class=\"token punctuation\">,</span>\n\taddress <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h3 id=\"数据类型\"><a href=\"#数据类型\" class=\"headerlink\" title=\"数据类型\"></a>数据类型</h3><h4 id=\"数字\"><a href=\"#数字\" class=\"headerlink\" title=\"数字\"></a>数字</h4><p>int</p>\n<h4 id=\"字符串\"><a href=\"#字符串\" class=\"headerlink\" title=\"字符串\"></a>字符串</h4><p>varchar(20)，如果不足20不会浪费存储空间，像变长一样</p>\n<h4 id=\"日期\"><a href=\"#日期\" class=\"headerlink\" title=\"日期\"></a>日期</h4><table>\n<thead>\n<tr>\n<th></th>\n<th></th>\n</tr>\n</thead>\n<tbody><tr>\n<td>date</td>\n<td>YYYY.MM.DD</td>\n</tr>\n<tr>\n<td>time</td>\n<td>H:M:S</td>\n</tr>\n<tr>\n<td>datetime</td>\n<td>date+time</td>\n</tr>\n</tbody></table>\n<h3 id=\"其他操作\"><a href=\"#其他操作\" class=\"headerlink\" title=\"其他操作\"></a>其他操作</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\"># 查看所有数据库所有表</span>\n<span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">TABLES</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\"># 查看指定表的创建语句</span>\n<span class=\"token keyword\">SHOW</span> <span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> student<span class=\"token punctuation\">;</span>\t\t\t\t\t\n\n<span class=\"token comment\"># 查看表结构</span>\n<span class=\"token keyword\">DESC</span> student<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\"># 删除表</span>\n<span class=\"token keyword\">DROP</span> <span class=\"token keyword\">TABLE</span> student<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"修改表结构\"><a href=\"#修改表结构\" class=\"headerlink\" title=\"修改表结构\"></a>修改表结构</h3><pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\"># 修改表结构 alter table 表名 列名 类型(长度) [约束];</span>\n<span class=\"token comment\"># 为student表增加一列</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> student <span class=\"token keyword\">ADD</span> dept <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DESC</span> student<span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\"># 修改列名和类型 ALTER TABLE 表名 change 旧列名 新列名 类型(长度) [约束];</span>\n<span class=\"token comment\"># 修改dept列为department列，并且拓宽长度</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> student CHANGE dept department <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">30</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DESC</span> student<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\"># 删除列 alter table 表名 drop 列名;</span>\n<span class=\"token comment\"># 删除学生表中department列</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> student <span class=\"token keyword\">DROP</span> department<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DESC</span> student<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\"># 修改表名 rename table 表名 to 新表名</span>\n<span class=\"token comment\"># 修改student 为stu</span>\n<span class=\"token keyword\">RENAME</span> <span class=\"token keyword\">TABLE</span> student <span class=\"token keyword\">TO</span> stu<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">DESC</span> stu<span class=\"token punctuation\">;</span>\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h2 id=\"DML\"><a href=\"#DML\" class=\"headerlink\" title=\"DML\"></a>DML</h2><p>基本操作：DML(Data Manipulation Language)，用于对数据进行更新（增删改），注意没有查</p>\n<ul>\n<li><p>插入insert</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\"># 1.</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> 表<span class=\"token punctuation\">(</span>列名<span class=\"token number\">1</span>，列名<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">values</span><span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span>，值<span class=\"token number\">2</span>，值<span class=\"token number\">3.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token comment\">//向表中插入，注意列与值一一对应，类型也要对应</span>\n<span class=\"token comment\"># 2.</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> 表 <span class=\"token keyword\">values</span> <span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span>，值<span class=\"token number\">2</span>，值<span class=\"token number\">3.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span class=\"token comment\">//向表中所有列给值</span>\n\n<span class=\"token comment\"># 3.一个insert插入多行</span>\n<span class=\"token keyword\">insert</span> <span class=\"token keyword\">into</span> 表<span class=\"token punctuation\">(</span>列名<span class=\"token number\">1</span>，列名<span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span> \n<span class=\"token keyword\">values</span>\n<span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span>，值<span class=\"token number\">2</span>，值<span class=\"token number\">3.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span>，值<span class=\"token number\">2</span>，值<span class=\"token number\">3.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">(</span>值<span class=\"token number\">1</span>，值<span class=\"token number\">2</span>，值<span class=\"token number\">3.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\"># 例如</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> student <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">1001</span><span class=\"token punctuation\">,</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token number\">21</span><span class=\"token punctuation\">,</span><span class=\"token string\">'2000-12-24'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'北京'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#注意字符由''引处，</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n</li>\n<li><p>删除delete</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">#1.删除数据</span>\n<span class=\"token keyword\">delete</span> <span class=\"token keyword\">from</span> 表名 <span class=\"token punctuation\">[</span><span class=\"token keyword\">where</span> 条件<span class=\"token punctuation\">]</span>\n<span class=\"token comment\">#2.清空表数据</span>\n<span class=\"token keyword\">truncate</span> <span class=\"token keyword\">table</span> 表名 或者 <span class=\"token keyword\">truncate</span> 表名\n\n\n<span class=\"token comment\">-- 注意delete和truncate原理不同，delete只删除内容，而truncate类似于drop table，可以理解为是将整个表删除后再创建该表</span>\n\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n</li>\n<li><p>更新&#x2F;修改update</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">#1. 修改所有行</span>\n<span class=\"token keyword\">update</span> 表名 <span class=\"token keyword\">set</span> 字段名<span class=\"token operator\">=</span>值，字段名<span class=\"token operator\">=</span>值<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\"># 2. 修改满足条件的行</span>\n<span class=\"token keyword\">update</span> 表名 <span class=\"token keyword\">set</span> 字段名<span class=\"token operator\">=</span>值，字段名<span class=\"token operator\">=</span>值<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span> <span class=\"token keyword\">where</span> 条件<span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\"># 例子</span>\n<span class=\"token comment\">-- 将所有学生的地址修改为重庆</span>\n<span class=\"token keyword\">update</span> student <span class=\"token keyword\">set</span> address<span class=\"token operator\">=</span><span class=\"token string\">'重庆'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 将id为1004的学生的地址修改为北京</span>\n<span class=\"token keyword\">update</span> student <span class=\"token keyword\">set</span> address<span class=\"token operator\">=</span><span class=\"token string\">'北京'</span> <span class=\"token keyword\">where</span> id<span class=\"token operator\">=</span><span class=\"token number\">1004</span><span class=\"token punctuation\">;</span>\n<span class=\"token comment\">-- 将id为1005的学生的地址修改为北京，成绩修改为100</span>\n<span class=\"token keyword\">update</span> student <span class=\"token keyword\">set</span> address <span class=\"token operator\">=</span><span class=\"token string\">'广州'</span><span class=\"token punctuation\">,</span>score<span class=\"token operator\">=</span><span class=\"token string\">'100'</span> <span class=\"token keyword\">where</span> sid<span class=\"token operator\">=</span><span class=\"token number\">1005</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<p>练习</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">USE</span> mydb1<span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> employee<span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nNAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ngender <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nsalary <span class=\"token keyword\">DOUBLE</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> mydb1<span class=\"token punctuation\">.</span>employee<span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nNAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ngender <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">10</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\nsalary <span class=\"token keyword\">DOUBLE</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> employee <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'男'</span><span class=\"token punctuation\">,</span><span class=\"token number\">2000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span><span class=\"token punctuation\">(</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token string\">'王五'</span><span class=\"token punctuation\">,</span><span class=\"token string\">'男'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">UPDATE</span> employee <span class=\"token keyword\">SET</span> salary<span class=\"token operator\">=</span><span class=\"token number\">4000</span><span class=\"token punctuation\">,</span>gender<span class=\"token operator\">=</span><span class=\"token string\">'女'</span> <span class=\"token keyword\">WHERE</span> NAME<span class=\"token operator\">=</span><span class=\"token string\">'王五'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">-- 王五的薪水在原有的基础上增加1k</span>\n<span class=\"token keyword\">UPDATE</span> employee <span class=\"token keyword\">SET</span> salary<span class=\"token operator\">=</span>salary<span class=\"token operator\">+</span><span class=\"token number\">1000</span> <span class=\"token keyword\">WHERE</span> NAME<span class=\"token operator\">=</span><span class=\"token string\">'王五'</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<h1 id=\"MySQL约束\"><a href=\"#MySQL约束\" class=\"headerlink\" title=\"MySQL约束\"></a>MySQL约束</h1><p><strong>概念</strong><br>约束英文：<em>constraint</em><br>约束实际上就是对表中数据的&#x3D;&#x3D;限制条件&#x3D;&#x3D;<br><strong>作用</strong><br>例如手机号不能为空，身份证号不允许重复<br><strong>分类</strong></p>\n<ul>\n<li><strong>主键约束</strong></li>\n<li><strong>自增长约束</strong></li>\n<li>非空约束</li>\n<li>唯一性约束</li>\n<li>默认约束</li>\n<li>零填充约束</li>\n<li>外键约束<br><img src=\"https://img-blog.csdnimg.cn/7758af22b5214ebe9fec48d4236d955d.png\" alt=\"在这里插入图片描述\"><h2 id=\"1、主键约束\"><a href=\"#1、主键约束\" class=\"headerlink\" title=\"1、主键约束\"></a>1、主键约束</h2></li>\n</ul>\n<p><strong>概念</strong></p>\n<ul>\n<li>主键约束可以是一个列作为主键或者是多个列联合作为主键，&#x3D;&#x3D;其值能唯一标识一行数据，便于尽快找到&#x3D;&#x3D;</li>\n<li>相当于 &#x3D;&#x3D;唯一约束 + 非空约束&#x3D;&#x3D;，主键约束不允许重复，也不允许出现空值</li>\n<li>每个表最多只允许一个主键（多个列的主键是联合为了一个来唯一标识）</li>\n<li>关键字叫：<code>primary key</code></li>\n<li>当创建主键约束时，系统默认会在对应的列或者是列组合上建立对应的唯一索引。</li>\n</ul>\n<p><strong>操作</strong></p>\n<ul>\n<li>添加单列主键</li>\n<li>添加多列主键</li>\n<li>删除主键</li>\n</ul>\n<h3 id=\"1-添加单列主键\"><a href=\"#1-添加单列主键\" class=\"headerlink\" title=\"1. 添加单列主键\"></a>1. 添加单列主键</h3><p>方式1：</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> 表名<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token operator\">&lt;</span>字段名<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>数据类型<span class=\"token operator\">></span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token comment\">--例如：</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> mydb1<span class=\"token punctuation\">.</span>emp1<span class=\"token punctuation\">(</span>\neid <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">,</span>\nNAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ndetpID <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nsalary <span class=\"token keyword\">DOUBLE</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>方式2：</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> 表名<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token operator\">&lt;</span>字段名<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>数据类型<span class=\"token operator\">></span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">,</span>\n<span class=\"token punctuation\">[</span><span class=\"token keyword\">constraint</span> 主键名（取的）<span class=\"token punctuation\">]</span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">(</span>id<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span>\n\n\n<span class=\"token comment\">-- 例如</span>\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> mydb1<span class=\"token punctuation\">.</span>emp1<span class=\"token punctuation\">(</span>\neid <span class=\"token keyword\">INT</span> <span class=\"token punctuation\">,</span>\nNAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ndetpID <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nsalary <span class=\"token keyword\">DOUBLE</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">constraint</span> pk1 <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">(</span>eid<span class=\"token punctuation\">)</span> <span class=\"token comment\">-- constaint pk1可以省略</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>主键的作用</strong></p>\n<ul>\n<li>不允许重复</li>\n<li>不允许空值<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> mydb1<span class=\"token punctuation\">.</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>emp1<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">1001</span><span class=\"token punctuation\">,</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> mydb1<span class=\"token punctuation\">.</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>emp1<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">1001</span><span class=\"token punctuation\">,</span><span class=\"token string\">'王五'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> mydb1<span class=\"token punctuation\">.</span><span class=\"token identifier\"><span class=\"token punctuation\">`</span>emp1<span class=\"token punctuation\">`</span></span> <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">5000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span></span></code></pre></li>\n</ul>\n<hr>\n<p><img src=\"https://img-blog.csdnimg.cn/08e0961a0aa54e73b0522463147e7ac3.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ2VuY3Vz,size_20,color_FFFFFF,t_70,g_se,x_16\" alt=\"在这里插入图片描述\"><br><img src=\"https://img-blog.csdnimg.cn/077115e0b4bc4b72b1ca5d67353de95b.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ2VuY3Vz,size_20,color_FFFFFF,t_70,g_se,x_16\" alt=\"在这里插入图片描述\"></p>\n<h3 id=\"2-添加多列联合主键\"><a href=\"#2-添加多列联合主键\" class=\"headerlink\" title=\"2. 添加多列联合主键\"></a>2. 添加多列联合主键</h3><p>所谓的联合主键，就是多个列组成了一个主键<br>注意：<br>    1. &#x3D;&#x3D;当主键是由多个字段组成时，不能直接在字段名后面声明主键。&#x3D;&#x3D;<br>    2. &#x3D;&#x3D;一张表只能有一个主键，联合主键也是一个主键&#x3D;&#x3D;</p>\n<p><strong>语法</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> 表名<span class=\"token punctuation\">(</span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n<span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span> <span class=\"token punctuation\">(</span>字段<span class=\"token number\">1</span>，字段<span class=\"token number\">2</span>，字段<span class=\"token number\">3</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>例如</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> emp3<span class=\"token punctuation\">(</span>\nname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ndeptID <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\nsalary <span class=\"token keyword\">double</span><span class=\"token punctuation\">,</span>\n<span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span><span class=\"token punctuation\">(</span>name<span class=\"token punctuation\">,</span>deptID<span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>作用</strong></p>\n<ul>\n<li>作为主键的各列&#x3D;&#x3D;不完全相同&#x3D;&#x3D;</li>\n<li>不允许&#x3D;&#x3D;任意列为空值&#x3D;&#x3D;</li>\n</ul>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 只要主键列不是完全相同都是可以加进去的</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> mydb1<span class=\"token punctuation\">.</span>emp3 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> mydb1<span class=\"token punctuation\">.</span>emp3 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token number\">2</span><span class=\"token punctuation\">,</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> mydb1<span class=\"token punctuation\">.</span>emp3 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'李四'</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token comment\">-- 联合主键的各列都不能为空</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> mydb1<span class=\"token punctuation\">.</span>emp3 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span><span class=\"token number\">1</span><span class=\"token punctuation\">,</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> mydb1<span class=\"token punctuation\">.</span>emp3 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">NULL</span><span class=\"token punctuation\">,</span><span class=\"token number\">3000</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<img src=\"https://img-blog.csdnimg.cn/72627691b7c24be19d9433bc13c72b73.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ2VuY3Vz,size_20,color_FFFFFF,t_70,g_se,x_16\" alt=\"在这里插入图片描述\" style=\"zoom:50%;\" />\n\n<h3 id=\"3-操作表结构添加主键\"><a href=\"#3-操作表结构添加主键\" class=\"headerlink\" title=\"3. 操作表结构添加主键\"></a>3. 操作表结构添加主键</h3><p><strong>添加单列主键</strong>：<code>ALTER TABLE 表名 ADD PRIMARY KEY(字段名)</code></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> mydb1<span class=\"token punctuation\">.</span>emp5<span class=\"token punctuation\">(</span>\neid <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nNAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ndeptId <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nsalary <span class=\"token keyword\">DOUBLE</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> mydb1<span class=\"token punctuation\">.</span>emp5 <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>eid<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<p><strong>添加多列主键</strong>：<code>ALTER TABLE 表名 ADD PRIMARY KEY(字段名1，字段名2)</code></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">\n<span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> mydb1<span class=\"token punctuation\">.</span>emp5<span class=\"token punctuation\">(</span>\neid <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nNAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\ndeptId <span class=\"token keyword\">INT</span><span class=\"token punctuation\">,</span>\nsalary <span class=\"token keyword\">DOUBLE</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> mydb1<span class=\"token punctuation\">.</span>emp5 <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">(</span>NAME<span class=\"token punctuation\">,</span>deptId<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n\n<h3 id=\"4-删除主键\"><a href=\"#4-删除主键\" class=\"headerlink\" title=\"4. 删除主键\"></a>4. 删除主键</h3><p><strong>语法</strong>：<code>alter table 数据表名 drop primary key;</code><br><strong>例子</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> mydb1<span class=\"token punctuation\">.</span>emp5 <span class=\"token keyword\">DROP</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<h2 id=\"2、自增长约束\"><a href=\"#2、自增长约束\" class=\"headerlink\" title=\"2、自增长约束\"></a>2、自增长约束</h2><p><strong>概念</strong><br>在mysql中，当主键定义为自增长后，这个主键的值就不需要用户再管了，而由DBMS来自动赋值，每增长一个数据，主键会自动同步增长，通过给字段添加 &#x3D;&#x3D;auto_increment&#x3D;&#x3D; 来实现<strong>主键</strong>自动增长</p>\n<p><strong>语法</strong></p>\n<p><code>字段名 数据类型 auto_increment</code></p>\n<p><strong>操作</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> t_user1<span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">int</span> <span class=\"token keyword\">primary</span> <span class=\"token keyword\">key</span> <span class=\"token keyword\">auto_increment</span><span class=\"token punctuation\">,</span>\nname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre>\n<p><strong>特点</strong><br><img src=\"https://img-blog.csdnimg.cn/e69c0c68d80e4695a94f1663bccbc051.png?x-oss-process=image/watermark,type_d3F5LXplbmhlaQ,shadow_50,text_Q1NETiBAQ2VuY3Vz,size_20,color_FFFFFF,t_70,g_se,x_16\" alt=\"*\"><br> <strong>指定自增长字段的初始值</strong><br> 方式1：创建表时指定<br> <pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> t_user2<span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">INT</span> <span class=\"token keyword\">PRIMARY</span> <span class=\"token keyword\">KEY</span> <span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token punctuation\">,</span>\nNAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token keyword\">AUTO_INCREMENT</span><span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span></span></code></pre><br> 方式2：创建表后修改表<br> <pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">alter</span> <span class=\"token keyword\">table</span> 表名 <span class=\"token keyword\">auto_increment</span><span class=\"token operator\">=</span><span class=\"token number\">100</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre></p>\n<p><strong>delete与truncate在删除自增列后的变化</strong><br><img src=\"https://img-blog.csdnimg.cn/bfadbddcbf2f48eeb8530dac382ec906.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"3、非空约束\"><a href=\"#3、非空约束\" class=\"headerlink\" title=\"3、非空约束\"></a>3、非空约束</h2><p><strong>概念</strong><br><img src=\"https://img-blog.csdnimg.cn/99e90b75fad34bcaadbd99b56c5f5010.png\" alt=\"在这里插入图片描述\"><br><strong>语法</strong><br>方式1：创建表时<br><code>字段名 数据类型 not null</code><br>方式2：创建表后<br><code>alter table 表名 modify 字段 类型 not null</code></p>\n<p><strong>添加非空约束方式</strong><br>方式1：</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> t_user6<span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\nname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">,</span>\naddress <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span>\n<span class=\"token punctuation\">)</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>方式2;</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">create</span> <span class=\"token keyword\">table</span> t_user7<span class=\"token punctuation\">(</span>\nid <span class=\"token keyword\">int</span><span class=\"token punctuation\">,</span>\nname <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span>\naddress <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n\n\n<span class=\"token keyword\">alter</span> <span class=\"token keyword\">table</span> t_user7 <span class=\"token keyword\">modify</span> name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">alter</span> <span class=\"token keyword\">table</span> t_user7 <span class=\"token keyword\">modify</span> address <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">not</span> <span class=\"token boolean\">null</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n\n<p><strong>删除非空约束</strong><br><code>alter table 表名 modify 字段名 类型;</code></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">alter</span> <span class=\"token keyword\">table</span> t_user7 <span class=\"token keyword\">modify</span> name <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">alter</span> <span class=\"token keyword\">table</span> t_user7 <span class=\"token keyword\">modify</span> address <span class=\"token keyword\">varchar</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><strong>查看表结构</strong><br><code>desc table_name</code>，结果如下图<br><img src=\"https://img-blog.csdnimg.cn/c3b96bce63fd4103ac9783fcfac43dd5.png\" alt=\"在这里插入图片描述\"></p>\n<h2 id=\"4、唯一约束\"><a href=\"#4、唯一约束\" class=\"headerlink\" title=\"4、唯一约束\"></a>4、唯一约束</h2><p><strong>概念</strong><img src=\"https://img-blog.csdnimg.cn/6936ddb6e39e47e8abec8bb29d6ada92.png\" alt=\"在这里插入图片描述\"></p>\n<p><strong>语法</strong><br>方式1：创建表时<br><code>字段名 数据类型 unique</code><br>方式2：创建表后<br><code>alter table 表名 add constraint 约束名 unique(列)</code><br><strong>添加唯一约束</strong><br>方式1：</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> t_user8 <span class=\"token punctuation\">(</span> \n id <span class=\"token keyword\">INT</span> <span class=\"token punctuation\">,</span> \n NAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> \n phone_number <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">UNIQUE</span> <span class=\"token comment\">-- 指定唯一约束 </span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>在mysql中null与任何值都不重复，所以可以在phonenumber为唯一约束时，下面成立</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> t_user8 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">1001</span><span class=\"token punctuation\">,</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">INSERT</span> <span class=\"token keyword\">INTO</span> t_user8 <span class=\"token keyword\">VALUES</span><span class=\"token punctuation\">(</span><span class=\"token number\">1001</span><span class=\"token punctuation\">,</span><span class=\"token string\">'张三'</span><span class=\"token punctuation\">,</span><span class=\"token boolean\">NULL</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n<p>方式2：<br>首先创建一个表</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> t_user9 <span class=\"token punctuation\">(</span> \n id <span class=\"token keyword\">INT</span> <span class=\"token punctuation\">,</span> \n NAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> \n phone_number <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>添加约束</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> t_user9 <span class=\"token keyword\">ADD</span> <span class=\"token keyword\">CONSTRAINT</span> unique_pn <span class=\"token keyword\">UNIQUE</span><span class=\"token punctuation\">(</span>phone_number<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span> <span class=\"token comment\">-- 此处的约束名在删除约束时用得到</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<p><strong>删除约束</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token comment\">-- 删除约束，如果没有指定名字，那么约束名字默认为列名</span>\n<span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> t_user9 <span class=\"token keyword\">DROP</span> <span class=\"token keyword\">INDEX</span> unique_pn<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<h2 id=\"5、默认约束\"><a href=\"#5、默认约束\" class=\"headerlink\" title=\"5、默认约束\"></a>5、默认约束</h2><p><strong>概念</strong><br><img src=\"https://img-blog.csdnimg.cn/7dd8f639b5e24095a2d8584188834a9c.png\" alt=\"在这里插入图片描述\"></p>\n<p><strong>语法</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\">方式<span class=\"token number\">1</span>：<span class=\"token operator\">&lt;</span>字段名<span class=\"token operator\">></span> <span class=\"token operator\">&lt;</span>数据类型<span class=\"token operator\">></span> <span class=\"token keyword\">default</span> <span class=\"token operator\">&lt;</span>默认值<span class=\"token operator\">></span><span class=\"token punctuation\">;</span>\n方式<span class=\"token number\">2</span>：<span class=\"token keyword\">alter</span> <span class=\"token keyword\">table</span> 表名 <span class=\"token keyword\">modify</span> 列名 类型 <span class=\"token keyword\">default</span> 默认值<span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span></span></code></pre>\n\n<p><strong>方式</strong><br>方式1：创建时在其后加<code>default &#39;值&#39;</code></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> t_user10 <span class=\"token punctuation\">(</span> \n  id <span class=\"token keyword\">INT</span> <span class=\"token punctuation\">,</span> \n  NAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> \n  address <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'北京'</span> <span class=\"token comment\">-- 指定默认约束 </span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>方式2：创建表后修改表结构<br>先创建表</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">CREATE</span> <span class=\"token keyword\">TABLE</span> t_user11 <span class=\"token punctuation\">(</span> \n  id <span class=\"token keyword\">INT</span> <span class=\"token punctuation\">,</span> \n  NAME <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">,</span> \n  address <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span><span></span><span></span><span></span><span></span></span></code></pre>\n<p>再添加约束</p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> t_user11 <span class=\"token keyword\">MODIFY</span> address <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token string\">'深圳'</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n\n<p><strong>删除约束</strong></p>\n<pre class=\"line-numbers language-sql\" data-language=\"sql\"><code class=\"language-sql\"><span class=\"token keyword\">ALTER</span> <span class=\"token keyword\">TABLE</span> t_user11 <span class=\"token keyword\">MODIFY</span> address <span class=\"token keyword\">VARCHAR</span><span class=\"token punctuation\">(</span><span class=\"token number\">20</span><span class=\"token punctuation\">)</span> <span class=\"token keyword\">DEFAULT</span> <span class=\"token boolean\">NULL</span><span class=\"token punctuation\">;</span><span aria-hidden=\"true\" class=\"line-numbers-rows\"><span></span></span></code></pre>\n<h2 id=\"6、零填充约束\"><a href=\"#6、零填充约束\" class=\"headerlink\" title=\"6、零填充约束\"></a>6、零填充约束</h2><h2 id=\"7、总结\"><a href=\"#7、总结\" class=\"headerlink\" title=\"7、总结\"></a>7、总结</h2><h1 id=\"DQL\"><a href=\"#DQL\" class=\"headerlink\" title=\"DQL\"></a>DQL</h1><h2 id=\"\"><a href=\"#\" class=\"headerlink\" title=\"\"></a></h2><h2 id=\"运算\"><a href=\"#运算\" class=\"headerlink\" title=\"运算\"></a>运算</h2><h2 id=\"排序查询\"><a href=\"#排序查询\" class=\"headerlink\" title=\"排序查询\"></a>排序查询</h2><h2 id=\"-1\"><a href=\"#-1\" class=\"headerlink\" title=\"\"></a></h2>","text":"MySQL数据库基本操作DDL（不涉及数据）数据库操作注意SQL不区分大小写 读数据库的常用操作 查看所有数据库show databases; 创建数据库create database; 切换（选择要操作的）数据库use mydb1; 删除数据库drop database; 修改...","link":"","photos":[],"count_time":{"symbolsCount":"6.6k","symbolsTime":"6 mins."},"categories":[],"tags":[{"name":"sql","slug":"sql","count":1,"path":"api/tags/sql.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#MySQL%E6%95%B0%E6%8D%AE%E5%BA%93%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">MySQL数据库基本操作</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#DDL%EF%BC%88%E4%B8%8D%E6%B6%89%E5%8F%8A%E6%95%B0%E6%8D%AE%EF%BC%89\"><span class=\"toc-text\">DDL（不涉及数据）</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E5%BA%93%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">数据库操作</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E8%A1%A8%E5%88%9B%E5%BB%BA\"><span class=\"toc-text\">表创建</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B\"><span class=\"toc-text\">数据类型</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%95%B0%E5%AD%97\"><span class=\"toc-text\">数字</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E5%AD%97%E7%AC%A6%E4%B8%B2\"><span class=\"toc-text\">字符串</span></a></li><li class=\"toc-item toc-level-4\"><a class=\"toc-link\" href=\"#%E6%97%A5%E6%9C%9F\"><span class=\"toc-text\">日期</span></a></li></ol></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%85%B6%E4%BB%96%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">其他操作</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E4%BF%AE%E6%94%B9%E8%A1%A8%E7%BB%93%E6%9E%84\"><span class=\"toc-text\">修改表结构</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#DML\"><span class=\"toc-text\">DML</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#MySQL%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">MySQL约束</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%E3%80%81%E4%B8%BB%E9%94%AE%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">1、主键约束</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#1-%E6%B7%BB%E5%8A%A0%E5%8D%95%E5%88%97%E4%B8%BB%E9%94%AE\"><span class=\"toc-text\">1. 添加单列主键</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#2-%E6%B7%BB%E5%8A%A0%E5%A4%9A%E5%88%97%E8%81%94%E5%90%88%E4%B8%BB%E9%94%AE\"><span class=\"toc-text\">2. 添加多列联合主键</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#3-%E6%93%8D%E4%BD%9C%E8%A1%A8%E7%BB%93%E6%9E%84%E6%B7%BB%E5%8A%A0%E4%B8%BB%E9%94%AE\"><span class=\"toc-text\">3. 操作表结构添加主键</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#4-%E5%88%A0%E9%99%A4%E4%B8%BB%E9%94%AE\"><span class=\"toc-text\">4. 删除主键</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%E3%80%81%E8%87%AA%E5%A2%9E%E9%95%BF%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">2、自增长约束</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3%E3%80%81%E9%9D%9E%E7%A9%BA%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">3、非空约束</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4%E3%80%81%E5%94%AF%E4%B8%80%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">4、唯一约束</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5%E3%80%81%E9%BB%98%E8%AE%A4%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">5、默认约束</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#6%E3%80%81%E9%9B%B6%E5%A1%AB%E5%85%85%E7%BA%A6%E6%9D%9F\"><span class=\"toc-text\">6、零填充约束</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#7%E3%80%81%E6%80%BB%E7%BB%93\"><span class=\"toc-text\">7、总结</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#DQL\"><span class=\"toc-text\">DQL</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\"><span class=\"toc-text\"></span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E8%BF%90%E7%AE%97\"><span class=\"toc-text\">运算</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E6%8E%92%E5%BA%8F%E6%9F%A5%E8%AF%A2\"><span class=\"toc-text\">排序查询</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#-1\"><span class=\"toc-text\"></span></a></li></ol></li></ol>","author":{"name":"Cencus","slug":"blog-author","avatar":"https://gitee.com/cencus/blog-image/raw/master/blogImage/1648381409561.jpg","link":"/","description":"stay hungry, stay foolish.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"prev_post":{"title":"正则","uid":"f9e7089c97c02add0e0305f89cbc4548","slug":"正则","date":"2022-03-28T10:12:04.000Z","updated":"2022-03-28T10:12:25.928Z","comments":true,"path":"api/articles/正则.json","keywords":null,"cover":null,"text":"工具http://regex101.com页面解读 限定符匹配对象是一个字符 符号 解释 ? 限定符，前面的字符要出现0次或者[1]次,&#x2F;used?代表d出现0次或者1次，也就是可有可无 | 前面的字符要出现0和或者多次 +|匹配出现1次以上的字符{}|指定前面字符出现...","link":"","photos":[],"count_time":{"symbolsCount":"1.3k","symbolsTime":"1 mins."},"categories":[],"tags":[{"name":"default","slug":"default","count":1,"path":"api/tags/default.json"}],"author":{"name":"Cencus","slug":"blog-author","avatar":"https://gitee.com/cencus/blog-image/raw/master/blogImage/1648381409561.jpg","link":"/","description":"stay hungry, stay foolish.","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{}}